<!DOCTYPE html>
<html lang="en">
<head>
 <title>Login</title>
 <meta charset="utf-8">
</head>
<body>
 <h1>Login</h1>
 <form action="/.portier/login" method="GET" accept-charset="utf-8" id="form">
  <input type="email" name="email" id="email" required>
  <input type="submit" value="Log In">
 </form>

 <script>
 var config = {};
 var parts = location.hash.substr(1).split('&');
 for (var p in parts) {
  var kv = parts[p].split('=', 2);
  config[decodeURIComponent(kv[0])] = kv[1] ? decodeURIComponent(kv[1]) : true;
 }
  
 if (config.email) email.value = config.email;
 if (config.error) {
  var d = document.createElement('div');
  d.textContent = config.error;
  d.style = 'width:50%;margin:0 auto;color:red;text-align:center;';
  document.body.insertBefore(d, form.nextSibling);
 }
 </script>
</body>
</html>
